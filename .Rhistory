strip.white = TRUE,
colClasses = c("character", rep("integer", 13
)
)
)
}
import_SAAR2004 <- function(){
read.csv(paste (getwd(), "/data sets/SAAR2004.csv", sep = ""),
header = TRUE,
sep = ",",
blank.lines.skip = TRUE,
fill = TRUE,
skip = 6,
strip.white = TRUE,
nrow = 351,
colClasses = c("numeric", "character", rep("integer", 13
)
)
)
}
import_SAAR2005 <- function(){
a <- read.csv(paste (getwd(), "/data sets/SAAR2005.csv", sep = ""),
header = TRUE,
sep=",",
blank.lines.skip = TRUE,
fill = TRUE,
skip = 6,
strip.white = TRUE,
nrow = 176,
colClasses = c("character", rep("integer", 13
)
)
)
}
import_SAAR2006 <- function(){
a <- read.csv(paste (getwd(), "/data sets/SAAR2006.csv", sep = ""),
header = TRUE,
sep = ",",
blank.lines.skip = TRUE,
fill = TRUE,
skip = 6,
strip.white = TRUE,
colClasses = c("character", "character", rep("integer", 13
)
)
)
}
import_SAAR2007 <- function(){
a <-read.csv(paste (getwd(), "/data sets/SAAR2007.csv", sep = ""),
header = TRUE,
sep = ",",
blank.lines.skip = TRUE,
fill = TRUE,
skip = 6,
strip.white=TRUE,
colClasses = c("character", "character", rep("integer", 13
)
)
)
}
import_SAAR2008 <- function(){
read.csv(paste (getwd(), "/data sets/SAAR2008.csv", sep = ""),
header = TRUE,
sep = ",",
blank.lines.skip = TRUE,
fill = TRUE,
skip = 6,
strip.white = TRUE,
colClasses = c("character", "character", rep("integer", 15
)
)
)
}
import_SAAR2009 <- function(){
read.csv(paste (getwd(), "/data sets/SAAR2009.csv", sep = ""),
header = TRUE,
sep = ",",
blank.lines.skip = TRUE,
fill = TRUE,
skip = 6,
strip.white = TRUE,
colClasses = c("character", "character", rep("integer", 15
)
)
)
}
import_SAAR2010 <- function(){
read.csv(paste (getwd(), "/data sets/SAAR2010.csv", sep = ""),
header = TRUE,
sep=",",
blank.lines.skip = TRUE,
fill = TRUE,
skip = 6,
strip.white=TRUE,
colClasses = c("character", "character", rep("integer", 15
)
)
)
}
import_SAAR2011 <- function(){
read.csv(paste (getwd(), "/data sets/SAAR2011.csv", sep = ""),
header = TRUE,
sep = ",",
blank.lines.skip = TRUE,
fill = TRUE,
skip = 6,
strip.white = TRUE,
colClasses = c("character", "character", rep("integer", 15
)
)
)
}
library (gdata)
import_SAAR1999 <- function(){
read.csv(paste(getwd(), "/data sets/SAAR1999.csv", sep = ""),
skip = 6,
nrow = 176,
header = TRUE,
fill = TRUE,
blank.lines.skip=TRUE,
strip.white = TRUE,
colClasses = c("character", rep("integer", 13
)
)
)
}
import_SAAR2000 <- function(){
read.csv(paste(getwd() ,"/data sets/SAAR2000.csv", sep = ""),
skip = 6,
nrow = 176,
header = TRUE,
fill = TRUE,
blank.lines.skip = TRUE,
strip.white = TRUE,
colClasses = c("character", rep("integer", 13
)
)
)
}
import_SAAR2001 <- function(){
read.csv(paste (getwd(), "/data sets/SAAR2001.csv", sep = ""),
skip = 6,
nrow = 176,
header = TRUE,
fill = TRUE,
blank.lines.skip = TRUE,
strip.white = TRUE,
colClasses = c("character", rep("integer", 13
)
)
)
}
import_SAAR2002 <- function(){
read.csv(paste (getwd(), "/data sets/SAAR2002.csv", sep = ""),
skip = 6,
nrow = 176,
header = TRUE,
fill = TRUE,
blank.lines.skip = TRUE,
strip.white = TRUE,
colClasses = c("character", rep("integer", 13
)
)
)
}
import_SAAR2003 <- function(){
read.csv(paste (getwd(), "/data sets/SAAR2003.csv", sep = ""),
skip = 6,
nrow = 176,
header = TRUE,
fill = TRUE,
blank.lines.skip = TRUE,
strip.white = TRUE,
colClasses = c("character", rep("integer", 13
)
)
)
}
import_SAAR2004 <- function(){
read.csv(paste (getwd(), "/data sets/SAAR2004.csv", sep = ""),
header = TRUE,
sep = ",",
blank.lines.skip = TRUE,
fill = TRUE,
skip = 6,
strip.white = TRUE,
nrow = 351,
colClasses = c("numeric", "character", rep("integer", 13
)
)
)
}
import_SAAR2005 <- function(){
a <- read.csv(paste (getwd(), "/data sets/SAAR2005.csv", sep = ""),
header = TRUE,
sep=",",
blank.lines.skip = TRUE,
fill = TRUE,
skip = 6,
strip.white = TRUE,
nrow = 176,
colClasses = c("character", rep("integer", 13
)
)
)
}
import_SAAR2006 <- function(){
a <- read.csv(paste (getwd(), "/data sets/SAAR2006.csv", sep = ""),
header = TRUE,
sep = ",",
blank.lines.skip = TRUE,
fill = TRUE,
skip = 6,
strip.white = TRUE,
colClasses = c("character", "character", rep("integer", 13
)
)
)
}
import_SAAR2007 <- function(){
a <-read.csv(paste (getwd(), "/data sets/SAAR2007.csv", sep = ""),
header = TRUE,
sep = ",",
blank.lines.skip = TRUE,
fill = TRUE,
skip = 6,
strip.white=TRUE,
colClasses = c("character", "character", rep("integer", 13
)
)
)
}
import_SAAR2008 <- function(){
read.csv(paste (getwd(), "/data sets/SAAR2008.csv", sep = ""),
header = TRUE,
sep = ",",
blank.lines.skip = TRUE,
fill = TRUE,
skip = 6,
strip.white = TRUE,
colClasses = c("character", "character", rep("integer", 15
)
)
)
}
import_SAAR2009 <- function(){
read.csv(paste (getwd(), "/data sets/SAAR2009.csv", sep = ""),
header = TRUE,
sep = ",",
blank.lines.skip = TRUE,
fill = TRUE,
skip = 6,
strip.white = TRUE,
colClasses = c("character", "character", rep("integer", 15
)
)
)
}
import_SAAR2010 <- function(){
read.csv(paste (getwd(), "/data sets/SAAR2010.csv", sep = ""),
header = TRUE,
sep=",",
blank.lines.skip = TRUE,
fill = TRUE,
skip = 6,
strip.white=TRUE,
colClasses = c("character", "character", rep("integer", 15
)
)
)
}
import_SAAR2011 <- function(){
read.csv(paste (getwd(), "/data sets/SAAR2011.csv", sep = ""),
header = TRUE,
sep = ",",
blank.lines.skip = TRUE,
fill = TRUE,
skip = 6,
strip.white = TRUE,
colClasses = c("character", "character", rep("integer", 15
)
)
)
}
import_SAAR2012 <- function(){
read.csv(paste (getwd(), "/data sets/SAAR2012.csv", sep = ""),
header = TRUE,
sep = ",",
blank.lines.skip = TRUE,
fill = TRUE,
skip = 6,
strip.white = TRUE,
colClasses = c("character", "character", rep("integer", 15
)
)
)
}
import_SAAR2013 <- function(){
read.csv(paste (getwd(), "/data sets/SAAR2013.csv", sep = ""),
header = TRUE,
sep = ",",
blank.lines.skip = TRUE,
fill = TRUE,
skip = 6,
strip.white = TRUE,
colClasses = c("character", "character", rep("integer", 15
)
)
)
}
#index column for merge using 1999 as base year
create_index <- function(){
district.index <- import_SAAR1999()[,1]        #school districts
district.index<-sub("^[0-9][0-9][0-9].", "" , district.index)     #remove number in front
district.index<-sub("Independent", "Independen", district.index) #add "t" to independent
district.index<-sub("Independen", "Independ", district.index)
district.index<-sub("Independ", "Independent", district.index)
district.index<-as.data.frame(district.index)
names(district.index)<-c("DISTRICT")
district.index
}
#spruce the data up
spruce_SAAR1999 <- function(){
temp <- import_SAAR1999()
temp$DISTRICT <- sub("^[0-9][0-9][0-9].", "" , temp$DISTRICT)
temp$DISTRICT <- sub("Independent", "Independen", temp$DISTRICT)
temp$DISTRICT <- sub("Independen", "Independ", temp$DISTRICT)
temp$DISTRICT <- sub("Independ", "Independent",temp$DISTRICT)
setdiff(create_index()$DISTRICT, temp$DISTRICT)
setdiff(temp$DISTRICT, create_index()$DISTRICT)
temp
}
spruce_SAAR2000 <- function(){
temp <- import_SAAR2000()
temp$DISTRICT <- sub("^[0-9][0-9][0-9].", "" , temp$DISTRICT)
temp$DISTRICT <- sub("Independent", "Independen", temp$DISTRICT)
temp$DISTRICT <- sub("Independen", "Independ", temp$DISTRICT)
temp$DISTRICT <- sub("Independ", "Independent", temp$DISTRICT)
temp$DISTRICT <- sub("Erlanger-Elsmere Independent.",
"Erlanger-Elsmere Independent",
temp$DISTRICT
)
temp$DISTRICT <- sub("Walton-Verona Independent",
"Walton Verona Independent",
temp$DISTRICT
)
temp
}
spruce_SAAR2001 <- function(){
temp <- import_SAAR2001()
temp$DISTRICT <- sub("^[0-9][0-9][0-9].", "" , temp$DISTRICT)
temp$DISTRICT <- sub("Independent", "Independen", temp$DISTRICT)
temp$DISTRICT <- sub("Independen", "Independ", temp$DISTRICT)
temp$DISTRICT <- sub("Independ", "Independent", temp$DISTRICT)
temp$DISTRICT <- sub("Walton-Verona Independent",
"Walton Verona Independent",
temp$DISTRICT
)
setdiff(create_index()$DISTRICT, temp$DISTRICT)
setdiff(temp$DISTRICT, create_index()$DISTRICT)
temp
}
spruce_SAAR2002 <- function(){
temp <- import_SAAR2002()
temp$DISTRICT <- sub("^[0-9][0-9][0-9].", "" , temp$DISTRICT)
temp$DISTRICT <- sub("Independent", "Independen", temp$DISTRICT)
temp$DISTRICT <- sub("Independen", "Independ", temp$DISTRICT)
temp$DISTRICT <- sub("Independ", "Independent", temp$DISTRICT)
temp$DISTRICT <- sub("Walton-Verona Independent",
"Walton Verona Independent",
temp$DISTRICT
)
setdiff(create_index()$DISTRICT, temp$DISTRICT)
setdiff(temp$DISTRICT, create_index()$DISTRICT)
temp
}
spruce_SAAR2003 <- function(){
temp <- import_SAAR2003()
temp$DISTRICT <- sub("^[0-9][0-9][0-9].", "" , temp$DISTRICT)
temp$DISTRICT <- sub("Independent", "Independen", temp$DISTRICT)
temp$DISTRICT <- sub("Independen", "Independ", temp$DISTRICT)
temp$DISTRICT <- sub("Independ", "Independent", temp$DISTRICT)
temp$DISTRICT <- sub("Walton-Verona Independent",
"Walton Verona Independent",
temp$DISTRICT)
setdiff(create_index()$DISTRICT, temp$DISTRICT)
setdiff(temp$DISTRICT, create_index()$DISTRICT)
temp
}
spruce_SAAR2004 <- function(){
temp <- import_SAAR2004()
temp <- temp[!is.na(temp$X11),]
temp <- temp[,2:15]
names (temp)[1] <- "DISTRICT"
temp$DISTRICT <- sub("Walton-Verona Independent",
"Walton Verona Independent",
temp$DISTRICT
)
setdiff(create_index()$DISTRICT, temp$DISTRICT)
setdiff(temp$DISTRICT, create_index()$DISTRICT)
temp
}
spruce_SAAR2005 <- function(){
temp <- import_SAAR2005()
temp$DISTRICT<-sub("^[0-9][0-9][0-9].", "" , temp$DISTRICT)
temp$DISTRICT<-sub("Walton-Verona Independent",
"Walton Verona Independent",
temp$DISTRICT
)
setdiff(create_index()$DISTRICT, temp$DISTRICT)
setdiff(temp$DISTRICT, create_index()$DISTRICT)
temp
}
spruce_SAAR2006 <- function(){
temp <- import_SAAR2006()
temp <- temp[!is.na(temp$X11),]
temp <- temp[nchar(temp[,2])==0,]
temp[165,1] <- "Walton Verona Independent"
temp <- temp[, -2]
temp <- temp[-176, ]  #Grand Total
names (temp)[1] <- toupper(names(temp)[1])
setdiff(create_index()$DISTRICT, temp$DISTRICT) #Harrodsburg Independent missing
setdiff(temp$DISTRICT, create_index()$DISTRICT)
temp
}
spruce_SAAR2007 <- function(){
temp <- import_SAAR2007()
temp <- temp[,1:15]
temp <- subset(temp, (grepl("TOTALS", temp[, 1])))  #extract districts by totals
temp$DISTRICT <- sub("TOTALS for ", "", temp$DISTRICT)
temp<-temp[, -2]
temp[164,1] <- "Walton Verona Independent"
temp[144,1] <- "Raceland Independent"
setdiff(create_index()$DISTRICT, temp$DISTRICT) #Providence/Harrodsburg
#Independent missing
setdiff(temp$DISTRICT, create_index()$DISTRICT)
temp
}
spruce_SAAR2008 <- function(){
temp <- import_SAAR2008()
temp <- subset(temp, (grepl("TOTALS", temp[,1])))  #extract districts by totals
temp$DISTRICT <- sub("TOTALS for ", "",temp$DISTRICT)
temp <- temp[,-2]
temp[144,1] <- "Raceland Independent"
temp[164,1] <- "Walton Verona Independent"
setdiff(create_index()$DISTRICT, temp$DISTRICT) #Providence/Harrodsburg
#Independent missing
setdiff(temp$DISTRICT, create_index()$DISTRICT)
temp
}
spruce_SAAR2009 <- function(){
temp <- import_SAAR2009()
temp <- subset(temp, (grepl("TOTALS", temp$DISTRICT)))
temp$DISTRICT <- sub("TOTALS for ", "",temp$DISTRICT)
temp[86,1]<-"Jefferson County"
temp[144,1]<-"Raceland Independent"
temp[164,1]<-"Walton Verona Independent"
temp <- temp[, -2]
setdiff(create_index()$DISTRICT, temp$DISTRICT) #Providence/Harrodsburg
#Independent missing
setdiff(temp$DISTRICT, create_index()$DISTRICT)
temp
}
spruce_SAAR2010 <- function(){
temp <- import_SAAR2010()
temp <- subset(temp, (grepl("TOTALS", temp$DISTRICT)))
temp$DISTRICT <- gsub("TOTALS for ", "",temp$DISTRICT)
temp <- temp[, -c(2,3)]
temp[86,1] <- "Jefferson County"
temp[144,1] <- "Raceland Independent"
temp[164,1] <- "Walton Verona Independent"
setdiff(create_index()$DISTRICT, temp$DISTRICT) #Providence/Harrodsburg
#Independent missing
setdiff(temp$DISTRICT, create_index()$DISTRICT)
temp
}
spruce_SAAR2011 <- function(){
temp <- import_SAAR2011()
temp <- subset(temp, (grepl("TOTALS", temp$DISTRICT)))
temp$DISTRICT <- gsub("TOTALS for ", "",temp$DISTRICT)
temp <- temp[, -2]
temp[86,1] <- "Jefferson County"
temp[144,1] <- "Raceland Independent"
temp[164,1]<-"Walton Verona Independent"
setdiff(create_index()$DISTRICT, temp$DISTRICT) #Providence/Harrodsburg
#Independent missing
setdiff(temp$DISTRICT, create_index()$DISTRICT)
temp
}
spruce_SAAR2012 <- function(){
temp <- import_SAAR2012()
temp <- subset(temp, (grepl("TOTALS", temp$DISTRICT)))
temp$DISTRICT <- sub("TOTALS for ", "",temp$DISTRICT)
temp <- temp[, -2]
temp[144,1] <- "Raceland Independent"
temp[164,1] <- "Walton Verona Independent"
setdiff(create_index()$DISTRICT, temp$DISTRICT) #Providence/Harrodsburg
setdiff(temp$DISTRICT, create_index()$DISTRICT)
temp
}
spruce_SAAR2013 <- function(){
temp <- import_SAAR2013()
temp <- subset(temp, (grepl("TOTALS", temp$DISTRICT)))
temp$DISTRICT <- sub("TOTALS for ", "",temp$DISTRICT)
temp <- temp[, -2]
temp[143,1] <- "Raceland Independent"
temp[163,1] <- "Walton Verona Independent"
setdiff(create_index()$DISTRICT, temp$DISTRICT)
#Providence/Harrodsburg/Monticello
setdiff(temp$DISTRICT, create_index()$DISTRICT)
temp
}
